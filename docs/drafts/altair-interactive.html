<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="author" content="Matthew Kudija">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <title>Altair: Interactive Plots in Jupyter and on a Webpage | Matthew Kudija</title>

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" title="Matthew Kudija blog atom feed" href="/feeds/all.atom.xml" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/theme/css/icons.css"/>
    <style>.highlight .hll { background-color: #49483e }
.highlight  { background: #272822; color: #f8f8f2 }
.highlight .c { color: #75715e } /* Comment */
.highlight .err { color: #960050; background-color: #1e0010 } /* Error */
.highlight .k { color: #66d9ef } /* Keyword */
.highlight .l { color: #ae81ff } /* Literal */
.highlight .n { color: #f8f8f2 } /* Name */
.highlight .o { color: #f92672 } /* Operator */
.highlight .p { color: #f8f8f2 } /* Punctuation */
.highlight .ch { color: #75715e } /* Comment.Hashbang */
.highlight .cm { color: #75715e } /* Comment.Multiline */
.highlight .cp { color: #75715e } /* Comment.Preproc */
.highlight .cpf { color: #75715e } /* Comment.PreprocFile */
.highlight .c1 { color: #75715e } /* Comment.Single */
.highlight .cs { color: #75715e } /* Comment.Special */
.highlight .gd { color: #f92672 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gi { color: #a6e22e } /* Generic.Inserted */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #75715e } /* Generic.Subheading */
.highlight .kc { color: #66d9ef } /* Keyword.Constant */
.highlight .kd { color: #66d9ef } /* Keyword.Declaration */
.highlight .kn { color: #f92672 } /* Keyword.Namespace */
.highlight .kp { color: #66d9ef } /* Keyword.Pseudo */
.highlight .kr { color: #66d9ef } /* Keyword.Reserved */
.highlight .kt { color: #66d9ef } /* Keyword.Type */
.highlight .ld { color: #e6db74 } /* Literal.Date */
.highlight .m { color: #ae81ff } /* Literal.Number */
.highlight .s { color: #e6db74 } /* Literal.String */
.highlight .na { color: #a6e22e } /* Name.Attribute */
.highlight .nb { color: #f8f8f2 } /* Name.Builtin */
.highlight .nc { color: #a6e22e } /* Name.Class */
.highlight .no { color: #66d9ef } /* Name.Constant */
.highlight .nd { color: #a6e22e } /* Name.Decorator */
.highlight .ni { color: #f8f8f2 } /* Name.Entity */
.highlight .ne { color: #a6e22e } /* Name.Exception */
.highlight .nf { color: #a6e22e } /* Name.Function */
.highlight .nl { color: #f8f8f2 } /* Name.Label */
.highlight .nn { color: #f8f8f2 } /* Name.Namespace */
.highlight .nx { color: #a6e22e } /* Name.Other */
.highlight .py { color: #f8f8f2 } /* Name.Property */
.highlight .nt { color: #f92672 } /* Name.Tag */
.highlight .nv { color: #f8f8f2 } /* Name.Variable */
.highlight .ow { color: #f92672 } /* Operator.Word */
.highlight .w { color: #f8f8f2 } /* Text.Whitespace */
.highlight .mb { color: #ae81ff } /* Literal.Number.Bin */
.highlight .mf { color: #ae81ff } /* Literal.Number.Float */
.highlight .mh { color: #ae81ff } /* Literal.Number.Hex */
.highlight .mi { color: #ae81ff } /* Literal.Number.Integer */
.highlight .mo { color: #ae81ff } /* Literal.Number.Oct */
.highlight .sa { color: #e6db74 } /* Literal.String.Affix */
.highlight .sb { color: #e6db74 } /* Literal.String.Backtick */
.highlight .sc { color: #e6db74 } /* Literal.String.Char */
.highlight .dl { color: #e6db74 } /* Literal.String.Delimiter */
.highlight .sd { color: #e6db74 } /* Literal.String.Doc */
.highlight .s2 { color: #e6db74 } /* Literal.String.Double */
.highlight .se { color: #ae81ff } /* Literal.String.Escape */
.highlight .sh { color: #e6db74 } /* Literal.String.Heredoc */
.highlight .si { color: #e6db74 } /* Literal.String.Interpol */
.highlight .sx { color: #e6db74 } /* Literal.String.Other */
.highlight .sr { color: #e6db74 } /* Literal.String.Regex */
.highlight .s1 { color: #e6db74 } /* Literal.String.Single */
.highlight .ss { color: #e6db74 } /* Literal.String.Symbol */
.highlight .bp { color: #f8f8f2 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #a6e22e } /* Name.Function.Magic */
.highlight .vc { color: #f8f8f2 } /* Name.Variable.Class */
.highlight .vg { color: #f8f8f2 } /* Name.Variable.Global */
.highlight .vi { color: #f8f8f2 } /* Name.Variable.Instance */
.highlight .vm { color: #f8f8f2 } /* Name.Variable.Magic */
.highlight .il { color: #ae81ff } /* Literal.Number.Integer.Long */</style>
    <style>.highlight pre, .highlighttable pre {
  /*note: this is for code block background-color;*/
    background: #272822;
    color: #f8f8f2;
}

body {
  margin: 0;
  padding: 0;
  font: 15px 'Source Sans Pro', sans-serif;
  line-height: 1.6em;
  color: #222;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
a {
  color: #007EE5;
  text-decoration: none;
}
a:hover {
  color: #007EE5;
  text-decoration: none;
}
header.main-header {
  /*background: none repeat scroll 0% 0% #205F29;*/
  background: none repeat scroll 0% 0% #3377B3;
  margin-bottom: 0px;
}
header.main-header a {
  color: #fff;
}
header.main-header .container {
  max-width: 1000px;
}
header.main-header .container nav a:hover {
  background-color: #3377B3;
}
article {
  margin: 0;
}
article header.about {
  margin-bottom: 0px;
  padding-bottom: 0px;
}
article header {
  margin-bottom: 20px;
  padding-bottom: 20px;
}
article header h1 {
  margin-bottom: 2px;
  font-weight: 700;
  color: #000;
}
article header time {
  color: #9E9E9E;
  font-size: 0.85em;
  float: right;
}
article header time.left {
  color: #9E9E9E;
  font-size: 0.85em;
  float: left;
}
article div.social-links ul {
  padding: 0px;
}
article div.social-links li {
  display: inline;
  font-size: 20px;
}
article div.social-links li a {
  color: #000;
  padding: 10px;
}
article div.social-links li a:hover {
  color: #666;
  text-decoration: none;
}
article p {
  font-size: 16px;
  margin-bottom: 20px;
  line-height: 1.6em;
}
article p.note {
  background: #f5f5f5;
  border: 1px solid #ddd;
  padding: 0.533em 0.733em;
}
article p.update {
  background-color: #FEEFB3;
  border: 1px solid #e6e68a;
  padding: 0.533em 0.733em;
}
article p.alert {
  background-color: #ffe2e2;
  border: 1px solid #ffb2b2;
  padding: 0.533em 0.733em;
}
article ul,
article ol {
  margin-top: 0px;
  margin-bottom: 25px;
}
article li {
  font-size: 16px;
  line-height: 1.6em;
}
article a:hover {
  text-decoration: underline;
}
article blockquote {
  border-left: 2px solid #c7c7cc;
  color: #666;
  margin: 30px 0;
  padding: 0 0 0 25px;
}
article img {
  max-width: 100%;
}
article code {
  color: #333;
  background-color: #EEE;
  border-radius: 0;
  font-size: 13px;
}
article .meta {
  font-size: 11px;
}
article .meta a:hover {
  text-decoration: none;
}
article .meta div {
  margin-bottom: 20px;
  display: block;
}
article .meta a.tag {
  margin: 0 10px 10px 0;
  padding: 1px 12px;
  display: inline-block;
  font-size: 14px;
  color: rgba(0, 0, 0, 0.8);
  background: rgba(0, 0, 0, 0.05);
}
article .meta a.tag:hover {
  background: rgba(0, 0, 0, 0.15);
}
article .meta a.read_more,
article .meta a.comments_btn {
  font-size: 14px;
  font-weight: 800;
  padding: 10px 20px;
  /*color: #205F29;*/
  color: #3377B3;
  background: #FFF;
  /*border: 1px solid #205F29;*/
  border: 1px solid #3377B3;
}
article .meta a.read_more:hover,
article .meta a.comments_btn:hover {
  color: #FFF;
  /*background: #3377B3;*/
  background: #3377B3;
}
.index {
  max-width: 700px;
}
.index article header h2 {
  font-size: 36px;
  margin-bottom: 2px;
  font-weight: 700;
}
.index article header h2 a {
  color: #000;
}
.index article header h2 a:hover {
  color: #007EE5;
  text-decoration: none;
}
.index .separator {
  padding: 40px 0 0 0;
  margin: 0 0 40px 0;
  height: 10px;
  border-bottom: solid 1px #CCC;
}
.index .pagination {
  display: block;
  margin-bottom: 100px;
}
.index .pagination .left {
  text-align: right;
}
.index .pagination .right {
  text-align: left;
}
.index .pagination a {
  display: inline-block;
  border: 2px solid #3377B3;
  margin: 0 5px;
  padding: 8px 20px;
  font-weight: bold;
  color: #3377B3;
}
.index .pagination a:hover {
  color: #FFF;
  background: #3377B3;
}
.post {
  max-width: 700px;
}
.post h2:before {
  content: "# ";
  font-weight: bold;
  color: #DDD;
}
.post h3:before {
  content: "## ";
  font-weight: bold;
  color: #DDD;
}
.post h4:before {
  content: "### ";
  font-weight: bold;
  color: #DDD;
}
.post article .meta {
  margin: 50px 0 100px;
}
.list {
  max-width: 700px;
}
.list ul.double-list {
  margin: 0 auto 60px;
  padding: 0;
  list-style-type: none;
}
.list ul.double-list li {
  padding: 5px 0;
}
.list ul.double-list li h2 {
  font-size: 1em;
  display: inline;
  font-weight: normal;
}
.list ul.double-list li span {
  font-family: sans-serif;
  text-transform: uppercase;
  text-align: right;
  float: right;
  padding-top: 3px;
  font-size: 12px;
  color: #999;
}
.full-width-content {
  padding-top: 10px;
  padding-left: 0px;
  padding-right: 0px;
  margin-left: -20px;
  margin-right: -20px;
}
.col-xs-1,
.col-sm-1,
.col-md-1,
.col-lg-1,
.col-xs-2,
.col-sm-2,
.col-md-2,
.col-lg-2,
.col-xs-3,
.col-sm-3,
.col-md-3,
.col-lg-3,
.col-xs-4,
.col-sm-4,
.col-md-4,
.col-lg-4,
.col-xs-5,
.col-sm-5,
.col-md-5,
.col-lg-5,
.col-xs-6,
.col-sm-6,
.col-md-6,
.col-lg-6,
.col-xs-7,
.col-sm-7,
.col-md-7,
.col-lg-7,
.col-xs-8,
.col-sm-8,
.col-md-8,
.col-lg-8,
.col-xs-9,
.col-sm-9,
.col-md-9,
.col-lg-9,
.col-xs-10,
.col-sm-10,
.col-md-10,
.col-lg-10,
.col-xs-11,
.col-sm-11,
.col-md-11,
.col-lg-11,
.col-xs-12,
.col-sm-12,
.col-md-12,
.col-lg-12 {
  padding-right: 0px;
  padding-left: 0px;
}
.video-container {
    position:relative;
    padding-bottom:56.25%;
    padding-top:30px;
    height:0;
    overflow:hidden;
}

.video-container iframe, .video-container object, .video-container embed {
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
}</style>

    <!-- Begin Mailchimp Style -->
    <link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
        <style type="text/css">
        #mc_embed_signup{background:#fff; clear:left; font:14px 'Source Sans Pro',Helvetica,Arial,sans-serif; }

    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
    We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
    </style>
    <!-- End Mailchimp Style -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
    <script type="text/javascript">
        init_mathjax = function() {
            if (window.MathJax) {
                // MathJax loaded
                MathJax.Hub.Config({
                    tex2jax: {
                        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                        displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
                    },
                    displayAlign: 'left', // Change this to 'center' to center equations.
                    "HTML-CSS": {
                        styles: {'.MathJax_Display': {"margin": 0}}
                    }
                });
                MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
            }
        }
        init_mathjax();
    </script>

<style>
.vega-actions a {
    margin-right: 12px;
    color: #757575;
    font-weight: normal;
    font-size: 13px;
}
.error {
    color: red;
}
</style>
<script src="https://cdn.jsdelivr.net/npm//vega@3.3.1"></script>
<script src="https://cdn.jsdelivr.net/npm//vega-lite@2.4.3"></script>
<script src="https://cdn.jsdelivr.net/npm//vega-embed@3.11"></script>
</head>

<body>
    <header class="navbar navbar-inverse bs-docs-nav">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#theNavbar">
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span> 
              </button>
              <a class="navbar-brand" href="/" title="Home" class="title">Matthew Kudija</a>
          </div>
          <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation" id="theNavbar">
              <ul class="nav navbar-nav navbar-right">
                <li><a href="http://matthewkudija.com/blog" title="Blog">Blog</a></li>
                <li><a href="http://matthewkudija.com/about.html" title="About">About</a></li>
                <li><a href="http://matthewkudija.com/photos" target="_blank" title="Photos">Photos</a></li>
                <li><a href="http://github.com/mkudija" target="_blank" title="mkudija's Github" rel="me">Github</a></li>
                <li><a href="http://twitter.com/mkudija" target="_blank" title="mkudija Twitter" rel="me">Twitter</a></li>
                <li><a href="mailto:m.kudija@gmail.com?Subject=Blog%3A%20&Body=Hi%20Matthew%2C%0A%0A" title="mailto:m.kudija@gmail.com?Subject=Blog%3A%20&Body=Hi%20Matthew%2C%0A%0A" rel="me">Email</a></li>
                <li><a href="http://matthewkudija.com/blog/archives.html" title="Archive">Archive</a></li>
            </ul>
        </nav>
    </div>
</header>

<div id="wrap">
<div class="container post">
    <article>
        <header>
            <h1>Altair: Interactive Plots in Jupyter and on a Webpage</h1>
            <time datetime="article.date.isoformat()" pubdate>Mon 11 June 2018</time>
        </header>

        <div class="article_content">
            <!-- PELICAN_BEGIN_SUMMARY -->

<p><img alt src="../images/altair-interactive.png"></p>
<p>Adding interactivity to data visualizations can be extremely helpful, espcially with large, multi-dimensional datasets. Sharing them online extends the benefits to others. In this article I will show some examples of using the Altair library to create and share some simple interactive visualizations.</p>
<!-- PELICAN_END_SUMMARY -->

<h1 id="intro-to-altair">Intro to Altair</h1>
<p>Altair is a "... library" developed by Jake VanderPlas and Brian Granger. Thanks to them! Give some more introduction info...</p>
<h3 id="resources">Resources:</h3>
<ul>
<li>Data: https://github.com/vega/vega-datasets/tree/gh-pages/data</li>
<li>
<p>Example: https://altair-viz.github.io/user_guide/saving_charts.html#json-format</p>
</li>
<li>
<p><a href="https://youtu.be/ms29ZPUKxbU?t=2149">Jake VanderPlas' Pycon 2018 tutorial</a></p>
</li>
<li><a href="http://vallandingham.me/altair_intro.html">This Intro</a></li>
<li><a href="http://pbpython.com/altair-intro.html">pbpython</a></li>
</ul>
<h1 id="building-interactive-altair-charts">Building Interactive Altair Charts</h1>
<h2 id="stocks-example">Stocks Example</h2>
<div class="highlight"><pre><span></span><span class="c1"># multi series line chart: https://altair-viz.github.io/gallery/multi_series_line.html</span>
<span class="c1"># multi-line tooltip: https://altair-viz.github.io/gallery/multiline_tooltip.html</span>

<span class="kn">import</span> <span class="nn">altair</span> <span class="kn">as</span> <span class="nn">alt</span>
<span class="kn">from</span> <span class="nn">vega_datasets</span> <span class="kn">import</span> <span class="n">data</span>

<span class="n">stocks</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">stocks</span><span class="p">()</span>

<span class="c1"># Create a selection that chooses the nearest point &amp; selects based on x-value</span>
<span class="n">nearest</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="n">nearest</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;mouseover&#39;</span><span class="p">,</span>
                        <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">empty</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>

<span class="c1"># The basic line</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">()</span><span class="o">.</span><span class="n">mark_line</span><span class="p">(</span><span class="n">interpolate</span><span class="o">=</span><span class="s1">&#39;basis&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;date:T&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;price:Q&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">format</span><span class="o">=</span><span class="s1">&#39;$f&#39;</span><span class="p">)),</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;symbol:N&#39;</span>
<span class="p">)</span>

<span class="c1"># Transparent selectors across the chart. This is what tells us</span>
<span class="c1"># the x-value of the cursor</span>
<span class="n">selectors</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">()</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;date:T&#39;</span><span class="p">,</span>
    <span class="n">opacity</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">nearest</span>
<span class="p">)</span>

<span class="c1"># Draw points on the line, and highlight based on selection</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">opacity</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">nearest</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="p">)</span>

<span class="c1"># Draw text labels near the points, and highlight based on selection</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">dy</span><span class="o">=-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">nearest</span><span class="p">,</span> <span class="s1">&#39;price:Q&#39;</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">))</span>
<span class="p">)</span>

<span class="c1"># Draw a rule at the location of the selection</span>
<span class="n">rules</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">()</span><span class="o">.</span><span class="n">mark_rule</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;date:T&#39;</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span>
    <span class="n">nearest</span>
<span class="p">)</span>

<span class="c1"># Put the five layers into a chart and bind the data</span>
<span class="n">stockChart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">layer</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">selectors</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">rules</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span>
          <span class="n">data</span><span class="o">=</span><span class="n">stocks</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Stock History&#39;</span><span class="p">)</span>
<span class="n">stockChart</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;stocks.html&#39;</span><span class="p">)</span>
</pre></div>


<div id="vis1"></div>

<script type="text/javascript">
var spec = {"config": {"view": {"width": 400, "height": 300}}, "layer": [{"mark": {"type": "line", "interpolate": "basis"}, "encoding": {"color": {"type": "nominal", "field": "symbol"}, "x": {"type": "temporal", "axis": {"title": ""}, "field": "date"}, "y": {"type": "quantitative", "axis": {"format": "$f", "title": ""}, "field": "price"}}}, {"mark": "point", "encoding": {"opacity": {"value": 0}, "x": {"type": "temporal", "field": "date"}}, "selection": {"selector001": {"type": "single", "nearest": true, "on": "mouseover", "fields": ["date"], "empty": "none"}}}, {"mark": "point", "encoding": {"color": {"type": "nominal", "field": "symbol"}, "opacity": {"condition": {"value": 1, "selection": "selector001"}, "value": 0}, "x": {"type": "temporal", "axis": {"title": ""}, "field": "date"}, "y": {"type": "quantitative", "axis": {"format": "$f", "title": ""}, "field": "price"}}}, {"mark": {"type": "rule", "color": "gray"}, "encoding": {"x": {"type": "temporal", "field": "date"}}, "transform": [{"filter": {"selection": "selector001"}}]}, {"mark": {"type": "text", "align": "left", "dx": 5, "dy": -5}, "encoding": {"color": {"type": "nominal", "field": "symbol"}, "text": {"condition": {"type": "quantitative", "field": "price", "selection": "selector001"}, "value": " "}, "x": {"type": "temporal", "axis": {"title": ""}, "field": "date"}, "y": {"type": "quantitative", "axis": {"format": "$f", "title": ""}, "field": "price"}}}], "data": {"values": [{"symbol": "MSFT", "date": "2000-01-01", "price": 39.81}, {"symbol": "MSFT", "date": "2000-02-01", "price": 36.35}, {"symbol": "MSFT", "date": "2000-03-01", "price": 43.22}, {"symbol": "MSFT", "date": "2000-04-01", "price": 28.37}, {"symbol": "MSFT", "date": "2000-05-01", "price": 25.45}, {"symbol": "MSFT", "date": "2000-06-01", "price": 32.54}, {"symbol": "MSFT", "date": "2000-07-01", "price": 28.4}, {"symbol": "MSFT", "date": "2000-08-01", "price": 28.4}, {"symbol": "MSFT", "date": "2000-09-01", "price": 24.53}, {"symbol": "MSFT", "date": "2000-10-01", "price": 28.02}, {"symbol": "MSFT", "date": "2000-11-01", "price": 23.34}, {"symbol": "MSFT", "date": "2000-12-01", "price": 17.65}, {"symbol": "MSFT", "date": "2001-01-01", "price": 24.84}, {"symbol": "MSFT", "date": "2001-02-01", "price": 24.0}, {"symbol": "MSFT", "date": "2001-03-01", "price": 22.25}, {"symbol": "MSFT", "date": "2001-04-01", "price": 27.56}, {"symbol": "MSFT", "date": "2001-05-01", "price": 28.14}, {"symbol": "MSFT", "date": "2001-06-01", "price": 29.7}, {"symbol": "MSFT", "date": "2001-07-01", "price": 26.93}, {"symbol": "MSFT", "date": "2001-08-01", "price": 23.21}, {"symbol": "MSFT", "date": "2001-09-01", "price": 20.82}, {"symbol": "MSFT", "date": "2001-10-01", "price": 23.65}, {"symbol": "MSFT", "date": "2001-11-01", "price": 26.12}, {"symbol": "MSFT", "date": "2001-12-01", "price": 26.95}, {"symbol": "MSFT", "date": "2002-01-01", "price": 25.92}, {"symbol": "MSFT", "date": "2002-02-01", "price": 23.73}, {"symbol": "MSFT", "date": "2002-03-01", "price": 24.53}, {"symbol": "MSFT", "date": "2002-04-01", "price": 21.26}, {"symbol": "MSFT", "date": "2002-05-01", "price": 20.71}, {"symbol": "MSFT", "date": "2002-06-01", "price": 22.25}, {"symbol": "MSFT", "date": "2002-07-01", "price": 19.52}, {"symbol": "MSFT", "date": "2002-08-01", "price": 19.97}, {"symbol": "MSFT", "date": "2002-09-01", "price": 17.79}, {"symbol": "MSFT", "date": "2002-10-01", "price": 21.75}, {"symbol": "MSFT", "date": "2002-11-01", "price": 23.46}, {"symbol": "MSFT", "date": "2002-12-01", "price": 21.03}, {"symbol": "MSFT", "date": "2003-01-01", "price": 19.31}, {"symbol": "MSFT", "date": "2003-02-01", "price": 19.34}, {"symbol": "MSFT", "date": "2003-03-01", "price": 19.76}, {"symbol": "MSFT", "date": "2003-04-01", "price": 20.87}, {"symbol": "MSFT", "date": "2003-05-01", "price": 20.09}, {"symbol": "MSFT", "date": "2003-06-01", "price": 20.93}, {"symbol": "MSFT", "date": "2003-07-01", "price": 21.56}, {"symbol": "MSFT", "date": "2003-08-01", "price": 21.65}, {"symbol": "MSFT", "date": "2003-09-01", "price": 22.69}, {"symbol": "MSFT", "date": "2003-10-01", "price": 21.45}, {"symbol": "MSFT", "date": "2003-11-01", "price": 21.1}, {"symbol": "MSFT", "date": "2003-12-01", "price": 22.46}, {"symbol": "MSFT", "date": "2004-01-01", "price": 22.69}, {"symbol": "MSFT", "date": "2004-02-01", "price": 21.77}, {"symbol": "MSFT", "date": "2004-03-01", "price": 20.46}, {"symbol": "MSFT", "date": "2004-04-01", "price": 21.45}, {"symbol": "MSFT", "date": "2004-05-01", "price": 21.53}, {"symbol": "MSFT", "date": "2004-06-01", "price": 23.44}, {"symbol": "MSFT", "date": "2004-07-01", "price": 23.38}, {"symbol": "MSFT", "date": "2004-08-01", "price": 22.47}, {"symbol": "MSFT", "date": "2004-09-01", "price": 22.76}, {"symbol": "MSFT", "date": "2004-10-01", "price": 23.02}, {"symbol": "MSFT", "date": "2004-11-01", "price": 24.6}, {"symbol": "MSFT", "date": "2004-12-01", "price": 24.52}, {"symbol": "MSFT", "date": "2005-01-01", "price": 24.11}, {"symbol": "MSFT", "date": "2005-02-01", "price": 23.15}, {"symbol": "MSFT", "date": "2005-03-01", "price": 22.24}, {"symbol": "MSFT", "date": "2005-04-01", "price": 23.28}, {"symbol": "MSFT", "date": "2005-05-01", "price": 23.82}, {"symbol": "MSFT", "date": "2005-06-01", "price": 22.93}, {"symbol": "MSFT", "date": "2005-07-01", "price": 23.64}, {"symbol": "MSFT", "date": "2005-08-01", "price": 25.35}, {"symbol": "MSFT", "date": "2005-09-01", "price": 23.83}, {"symbol": "MSFT", "date": "2005-10-01", "price": 23.8}, {"symbol": "MSFT", "date": "2005-11-01", "price": 25.71}, {"symbol": "MSFT", "date": "2005-12-01", "price": 24.29}, {"symbol": "MSFT", "date": "2006-01-01", "price": 26.14}, {"symbol": "MSFT", "date": "2006-02-01", "price": 25.04}, {"symbol": "MSFT", "date": "2006-03-01", "price": 25.36}, {"symbol": "MSFT", "date": "2006-04-01", "price": 22.5}, {"symbol": "MSFT", "date": "2006-05-01", "price": 21.19}, {"symbol": "MSFT", "date": "2006-06-01", "price": 21.8}, {"symbol": "MSFT", "date": "2006-07-01", "price": 22.51}, {"symbol": "MSFT", "date": "2006-08-01", "price": 24.13}, {"symbol": "MSFT", "date": "2006-09-01", "price": 25.68}, {"symbol": "MSFT", "date": "2006-10-01", "price": 26.96}, {"symbol": "MSFT", "date": "2006-11-01", "price": 27.66}, {"symbol": "MSFT", "date": "2006-12-01", "price": 28.13}, {"symbol": "MSFT", "date": "2007-01-01", "price": 29.07}, {"symbol": "MSFT", "date": "2007-02-01", "price": 26.63}, {"symbol": "MSFT", "date": "2007-03-01", "price": 26.35}, {"symbol": "MSFT", "date": "2007-04-01", "price": 28.3}, {"symbol": "MSFT", "date": "2007-05-01", "price": 29.11}, {"symbol": "MSFT", "date": "2007-06-01", "price": 27.95}, {"symbol": "MSFT", "date": "2007-07-01", "price": 27.5}, {"symbol": "MSFT", "date": "2007-08-01", "price": 27.34}, {"symbol": "MSFT", "date": "2007-09-01", "price": 28.04}, {"symbol": "MSFT", "date": "2007-10-01", "price": 35.03}, {"symbol": "MSFT", "date": "2007-11-01", "price": 32.09}, {"symbol": "MSFT", "date": "2007-12-01", "price": 34.0}, {"symbol": "MSFT", "date": "2008-01-01", "price": 31.13}, {"symbol": "MSFT", "date": "2008-02-01", "price": 26.07}, {"symbol": "MSFT", "date": "2008-03-01", "price": 27.21}, {"symbol": "MSFT", "date": "2008-04-01", "price": 27.34}, {"symbol": "MSFT", "date": "2008-05-01", "price": 27.25}, {"symbol": "MSFT", "date": "2008-06-01", "price": 26.47}, {"symbol": "MSFT", "date": "2008-07-01", "price": 24.75}, {"symbol": "MSFT", "date": "2008-08-01", "price": 26.36}, {"symbol": "MSFT", "date": "2008-09-01", "price": 25.78}, {"symbol": "MSFT", "date": "2008-10-01", "price": 21.57}, {"symbol": "MSFT", "date": "2008-11-01", "price": 19.66}, {"symbol": "MSFT", "date": "2008-12-01", "price": 18.91}, {"symbol": "MSFT", "date": "2009-01-01", "price": 16.63}, {"symbol": "MSFT", "date": "2009-02-01", "price": 15.81}, {"symbol": "MSFT", "date": "2009-03-01", "price": 17.99}, {"symbol": "MSFT", "date": "2009-04-01", "price": 19.84}, {"symbol": "MSFT", "date": "2009-05-01", "price": 20.59}, {"symbol": "MSFT", "date": "2009-06-01", "price": 23.42}, {"symbol": "MSFT", "date": "2009-07-01", "price": 23.18}, {"symbol": "MSFT", "date": "2009-08-01", "price": 24.43}, {"symbol": "MSFT", "date": "2009-09-01", "price": 25.49}, {"symbol": "MSFT", "date": "2009-10-01", "price": 27.48}, {"symbol": "MSFT", "date": "2009-11-01", "price": 29.27}, {"symbol": "MSFT", "date": "2009-12-01", "price": 30.34}, {"symbol": "MSFT", "date": "2010-01-01", "price": 28.05}, {"symbol": "MSFT", "date": "2010-02-01", "price": 28.67}, {"symbol": "MSFT", "date": "2010-03-01", "price": 28.8}, {"symbol": "AMZN", "date": "2000-01-01", "price": 64.56}, {"symbol": "AMZN", "date": "2000-02-01", "price": 68.87}, {"symbol": "AMZN", "date": "2000-03-01", "price": 67.0}, {"symbol": "AMZN", "date": "2000-04-01", "price": 55.19}, {"symbol": "AMZN", "date": "2000-05-01", "price": 48.31}, {"symbol": "AMZN", "date": "2000-06-01", "price": 36.31}, {"symbol": "AMZN", "date": "2000-07-01", "price": 30.12}, {"symbol": "AMZN", "date": "2000-08-01", "price": 41.5}, {"symbol": "AMZN", "date": "2000-09-01", "price": 38.44}, {"symbol": "AMZN", "date": "2000-10-01", "price": 36.62}, {"symbol": "AMZN", "date": "2000-11-01", "price": 24.69}, {"symbol": "AMZN", "date": "2000-12-01", "price": 15.56}, {"symbol": "AMZN", "date": "2001-01-01", "price": 17.31}, {"symbol": "AMZN", "date": "2001-02-01", "price": 10.19}, {"symbol": "AMZN", "date": "2001-03-01", "price": 10.23}, {"symbol": "AMZN", "date": "2001-04-01", "price": 15.78}, {"symbol": "AMZN", "date": "2001-05-01", "price": 16.69}, {"symbol": "AMZN", "date": "2001-06-01", "price": 14.15}, {"symbol": "AMZN", "date": "2001-07-01", "price": 12.49}, {"symbol": "AMZN", "date": "2001-08-01", "price": 8.94}, {"symbol": "AMZN", "date": "2001-09-01", "price": 5.97}, {"symbol": "AMZN", "date": "2001-10-01", "price": 6.98}, {"symbol": "AMZN", "date": "2001-11-01", "price": 11.32}, {"symbol": "AMZN", "date": "2001-12-01", "price": 10.82}, {"symbol": "AMZN", "date": "2002-01-01", "price": 14.19}, {"symbol": "AMZN", "date": "2002-02-01", "price": 14.1}, {"symbol": "AMZN", "date": "2002-03-01", "price": 14.3}, {"symbol": "AMZN", "date": "2002-04-01", "price": 16.69}, {"symbol": "AMZN", "date": "2002-05-01", "price": 18.23}, {"symbol": "AMZN", "date": "2002-06-01", "price": 16.25}, {"symbol": "AMZN", "date": "2002-07-01", "price": 14.45}, {"symbol": "AMZN", "date": "2002-08-01", "price": 14.94}, {"symbol": "AMZN", "date": "2002-09-01", "price": 15.93}, {"symbol": "AMZN", "date": "2002-10-01", "price": 19.36}, {"symbol": "AMZN", "date": "2002-11-01", "price": 23.35}, {"symbol": "AMZN", "date": "2002-12-01", "price": 18.89}, {"symbol": "AMZN", "date": "2003-01-01", "price": 21.85}, {"symbol": "AMZN", "date": "2003-02-01", "price": 22.01}, {"symbol": "AMZN", "date": "2003-03-01", "price": 26.03}, {"symbol": "AMZN", "date": "2003-04-01", "price": 28.69}, {"symbol": "AMZN", "date": "2003-05-01", "price": 35.89}, {"symbol": "AMZN", "date": "2003-06-01", "price": 36.32}, {"symbol": "AMZN", "date": "2003-07-01", "price": 41.64}, {"symbol": "AMZN", "date": "2003-08-01", "price": 46.32}, {"symbol": "AMZN", "date": "2003-09-01", "price": 48.43}, {"symbol": "AMZN", "date": "2003-10-01", "price": 54.43}, {"symbol": "AMZN", "date": "2003-11-01", "price": 53.97}, {"symbol": "AMZN", "date": "2003-12-01", "price": 52.62}, {"symbol": "AMZN", "date": "2004-01-01", "price": 50.4}, {"symbol": "AMZN", "date": "2004-02-01", "price": 43.01}, {"symbol": "AMZN", "date": "2004-03-01", "price": 43.28}, {"symbol": "AMZN", "date": "2004-04-01", "price": 43.6}, {"symbol": "AMZN", "date": "2004-05-01", "price": 48.5}, {"symbol": "AMZN", "date": "2004-06-01", "price": 54.4}, {"symbol": "AMZN", "date": "2004-07-01", "price": 38.92}, {"symbol": "AMZN", "date": "2004-08-01", "price": 38.14}, {"symbol": "AMZN", "date": "2004-09-01", "price": 40.86}, {"symbol": "AMZN", "date": "2004-10-01", "price": 34.13}, {"symbol": "AMZN", "date": "2004-11-01", "price": 39.68}, {"symbol": "AMZN", "date": "2004-12-01", "price": 44.29}, {"symbol": "AMZN", "date": "2005-01-01", "price": 43.22}, {"symbol": "AMZN", "date": "2005-02-01", "price": 35.18}, {"symbol": "AMZN", "date": "2005-03-01", "price": 34.27}, {"symbol": "AMZN", "date": "2005-04-01", "price": 32.36}, {"symbol": "AMZN", "date": "2005-05-01", "price": 35.51}, {"symbol": "AMZN", "date": "2005-06-01", "price": 33.09}, {"symbol": "AMZN", "date": "2005-07-01", "price": 45.15}, {"symbol": "AMZN", "date": "2005-08-01", "price": 42.7}, {"symbol": "AMZN", "date": "2005-09-01", "price": 45.3}, {"symbol": "AMZN", "date": "2005-10-01", "price": 39.86}, {"symbol": "AMZN", "date": "2005-11-01", "price": 48.46}, {"symbol": "AMZN", "date": "2005-12-01", "price": 47.15}, {"symbol": "AMZN", "date": "2006-01-01", "price": 44.82}, {"symbol": "AMZN", "date": "2006-02-01", "price": 37.44}, {"symbol": "AMZN", "date": "2006-03-01", "price": 36.53}, {"symbol": "AMZN", "date": "2006-04-01", "price": 35.21}, {"symbol": "AMZN", "date": "2006-05-01", "price": 34.61}, {"symbol": "AMZN", "date": "2006-06-01", "price": 38.68}, {"symbol": "AMZN", "date": "2006-07-01", "price": 26.89}, {"symbol": "AMZN", "date": "2006-08-01", "price": 30.83}, {"symbol": "AMZN", "date": "2006-09-01", "price": 32.12}, {"symbol": "AMZN", "date": "2006-10-01", "price": 38.09}, {"symbol": "AMZN", "date": "2006-11-01", "price": 40.34}, {"symbol": "AMZN", "date": "2006-12-01", "price": 39.46}, {"symbol": "AMZN", "date": "2007-01-01", "price": 37.67}, {"symbol": "AMZN", "date": "2007-02-01", "price": 39.14}, {"symbol": "AMZN", "date": "2007-03-01", "price": 39.79}, {"symbol": "AMZN", "date": "2007-04-01", "price": 61.33}, {"symbol": "AMZN", "date": "2007-05-01", "price": 69.14}, {"symbol": "AMZN", "date": "2007-06-01", "price": 68.41}, {"symbol": "AMZN", "date": "2007-07-01", "price": 78.54}, {"symbol": "AMZN", "date": "2007-08-01", "price": 79.91}, {"symbol": "AMZN", "date": "2007-09-01", "price": 93.15}, {"symbol": "AMZN", "date": "2007-10-01", "price": 89.15}, {"symbol": "AMZN", "date": "2007-11-01", "price": 90.56}, {"symbol": "AMZN", "date": "2007-12-01", "price": 92.64}, {"symbol": "AMZN", "date": "2008-01-01", "price": 77.7}, {"symbol": "AMZN", "date": "2008-02-01", "price": 64.47}, {"symbol": "AMZN", "date": "2008-03-01", "price": 71.3}, {"symbol": "AMZN", "date": "2008-04-01", "price": 78.63}, {"symbol": "AMZN", "date": "2008-05-01", "price": 81.62}, {"symbol": "AMZN", "date": "2008-06-01", "price": 73.33}, {"symbol": "AMZN", "date": "2008-07-01", "price": 76.34}, {"symbol": "AMZN", "date": "2008-08-01", "price": 80.81}, {"symbol": "AMZN", "date": "2008-09-01", "price": 72.76}, {"symbol": "AMZN", "date": "2008-10-01", "price": 57.24}, {"symbol": "AMZN", "date": "2008-11-01", "price": 42.7}, {"symbol": "AMZN", "date": "2008-12-01", "price": 51.28}, {"symbol": "AMZN", "date": "2009-01-01", "price": 58.82}, {"symbol": "AMZN", "date": "2009-02-01", "price": 64.79}, {"symbol": "AMZN", "date": "2009-03-01", "price": 73.44}, {"symbol": "AMZN", "date": "2009-04-01", "price": 80.52}, {"symbol": "AMZN", "date": "2009-05-01", "price": 77.99}, {"symbol": "AMZN", "date": "2009-06-01", "price": 83.66}, {"symbol": "AMZN", "date": "2009-07-01", "price": 85.76}, {"symbol": "AMZN", "date": "2009-08-01", "price": 81.19}, {"symbol": "AMZN", "date": "2009-09-01", "price": 93.36}, {"symbol": "AMZN", "date": "2009-10-01", "price": 118.81}, {"symbol": "AMZN", "date": "2009-11-01", "price": 135.91}, {"symbol": "AMZN", "date": "2009-12-01", "price": 134.52}, {"symbol": "AMZN", "date": "2010-01-01", "price": 125.41}, {"symbol": "AMZN", "date": "2010-02-01", "price": 118.4}, {"symbol": "AMZN", "date": "2010-03-01", "price": 128.82}, {"symbol": "IBM", "date": "2000-01-01", "price": 100.52}, {"symbol": "IBM", "date": "2000-02-01", "price": 92.11}, {"symbol": "IBM", "date": "2000-03-01", "price": 106.11}, {"symbol": "IBM", "date": "2000-04-01", "price": 99.95}, {"symbol": "IBM", "date": "2000-05-01", "price": 96.31}, {"symbol": "IBM", "date": "2000-06-01", "price": 98.33}, {"symbol": "IBM", "date": "2000-07-01", "price": 100.74}, {"symbol": "IBM", "date": "2000-08-01", "price": 118.62}, {"symbol": "IBM", "date": "2000-09-01", "price": 101.19}, {"symbol": "IBM", "date": "2000-10-01", "price": 88.5}, {"symbol": "IBM", "date": "2000-11-01", "price": 84.12}, {"symbol": "IBM", "date": "2000-12-01", "price": 76.47}, {"symbol": "IBM", "date": "2001-01-01", "price": 100.76}, {"symbol": "IBM", "date": "2001-02-01", "price": 89.98}, {"symbol": "IBM", "date": "2001-03-01", "price": 86.63}, {"symbol": "IBM", "date": "2001-04-01", "price": 103.7}, {"symbol": "IBM", "date": "2001-05-01", "price": 100.82}, {"symbol": "IBM", "date": "2001-06-01", "price": 102.35}, {"symbol": "IBM", "date": "2001-07-01", "price": 94.87}, {"symbol": "IBM", "date": "2001-08-01", "price": 90.25}, {"symbol": "IBM", "date": "2001-09-01", "price": 82.82}, {"symbol": "IBM", "date": "2001-10-01", "price": 97.58}, {"symbol": "IBM", "date": "2001-11-01", "price": 104.5}, {"symbol": "IBM", "date": "2001-12-01", "price": 109.36}, {"symbol": "IBM", "date": "2002-01-01", "price": 97.54}, {"symbol": "IBM", "date": "2002-02-01", "price": 88.82}, {"symbol": "IBM", "date": "2002-03-01", "price": 94.15}, {"symbol": "IBM", "date": "2002-04-01", "price": 75.82}, {"symbol": "IBM", "date": "2002-05-01", "price": 72.97}, {"symbol": "IBM", "date": "2002-06-01", "price": 65.31}, {"symbol": "IBM", "date": "2002-07-01", "price": 63.86}, {"symbol": "IBM", "date": "2002-08-01", "price": 68.52}, {"symbol": "IBM", "date": "2002-09-01", "price": 53.01}, {"symbol": "IBM", "date": "2002-10-01", "price": 71.76}, {"symbol": "IBM", "date": "2002-11-01", "price": 79.16}, {"symbol": "IBM", "date": "2002-12-01", "price": 70.58}, {"symbol": "IBM", "date": "2003-01-01", "price": 71.22}, {"symbol": "IBM", "date": "2003-02-01", "price": 71.13}, {"symbol": "IBM", "date": "2003-03-01", "price": 71.57}, {"symbol": "IBM", "date": "2003-04-01", "price": 77.47}, {"symbol": "IBM", "date": "2003-05-01", "price": 80.48}, {"symbol": "IBM", "date": "2003-06-01", "price": 75.42}, {"symbol": "IBM", "date": "2003-07-01", "price": 74.28}, {"symbol": "IBM", "date": "2003-08-01", "price": 75.12}, {"symbol": "IBM", "date": "2003-09-01", "price": 80.91}, {"symbol": "IBM", "date": "2003-10-01", "price": 81.96}, {"symbol": "IBM", "date": "2003-11-01", "price": 83.08}, {"symbol": "IBM", "date": "2003-12-01", "price": 85.05}, {"symbol": "IBM", "date": "2004-01-01", "price": 91.06}, {"symbol": "IBM", "date": "2004-02-01", "price": 88.7}, {"symbol": "IBM", "date": "2004-03-01", "price": 84.41}, {"symbol": "IBM", "date": "2004-04-01", "price": 81.04}, {"symbol": "IBM", "date": "2004-05-01", "price": 81.59}, {"symbol": "IBM", "date": "2004-06-01", "price": 81.19}, {"symbol": "IBM", "date": "2004-07-01", "price": 80.19}, {"symbol": "IBM", "date": "2004-08-01", "price": 78.17}, {"symbol": "IBM", "date": "2004-09-01", "price": 79.13}, {"symbol": "IBM", "date": "2004-10-01", "price": 82.84}, {"symbol": "IBM", "date": "2004-11-01", "price": 87.15}, {"symbol": "IBM", "date": "2004-12-01", "price": 91.16}, {"symbol": "IBM", "date": "2005-01-01", "price": 86.39}, {"symbol": "IBM", "date": "2005-02-01", "price": 85.78}, {"symbol": "IBM", "date": "2005-03-01", "price": 84.66}, {"symbol": "IBM", "date": "2005-04-01", "price": 70.77}, {"symbol": "IBM", "date": "2005-05-01", "price": 70.18}, {"symbol": "IBM", "date": "2005-06-01", "price": 68.93}, {"symbol": "IBM", "date": "2005-07-01", "price": 77.53}, {"symbol": "IBM", "date": "2005-08-01", "price": 75.07}, {"symbol": "IBM", "date": "2005-09-01", "price": 74.7}, {"symbol": "IBM", "date": "2005-10-01", "price": 76.25}, {"symbol": "IBM", "date": "2005-11-01", "price": 82.98}, {"symbol": "IBM", "date": "2005-12-01", "price": 76.73}, {"symbol": "IBM", "date": "2006-01-01", "price": 75.89}, {"symbol": "IBM", "date": "2006-02-01", "price": 75.09}, {"symbol": "IBM", "date": "2006-03-01", "price": 77.17}, {"symbol": "IBM", "date": "2006-04-01", "price": 77.05}, {"symbol": "IBM", "date": "2006-05-01", "price": 75.04}, {"symbol": "IBM", "date": "2006-06-01", "price": 72.15}, {"symbol": "IBM", "date": "2006-07-01", "price": 72.7}, {"symbol": "IBM", "date": "2006-08-01", "price": 76.35}, {"symbol": "IBM", "date": "2006-09-01", "price": 77.26}, {"symbol": "IBM", "date": "2006-10-01", "price": 87.06}, {"symbol": "IBM", "date": "2006-11-01", "price": 86.95}, {"symbol": "IBM", "date": "2006-12-01", "price": 91.9}, {"symbol": "IBM", "date": "2007-01-01", "price": 93.79}, {"symbol": "IBM", "date": "2007-02-01", "price": 88.18}, {"symbol": "IBM", "date": "2007-03-01", "price": 89.44}, {"symbol": "IBM", "date": "2007-04-01", "price": 96.98}, {"symbol": "IBM", "date": "2007-05-01", "price": 101.54}, {"symbol": "IBM", "date": "2007-06-01", "price": 100.25}, {"symbol": "IBM", "date": "2007-07-01", "price": 105.4}, {"symbol": "IBM", "date": "2007-08-01", "price": 111.54}, {"symbol": "IBM", "date": "2007-09-01", "price": 112.6}, {"symbol": "IBM", "date": "2007-10-01", "price": 111.0}, {"symbol": "IBM", "date": "2007-11-01", "price": 100.9}, {"symbol": "IBM", "date": "2007-12-01", "price": 103.7}, {"symbol": "IBM", "date": "2008-01-01", "price": 102.75}, {"symbol": "IBM", "date": "2008-02-01", "price": 109.64}, {"symbol": "IBM", "date": "2008-03-01", "price": 110.87}, {"symbol": "IBM", "date": "2008-04-01", "price": 116.23}, {"symbol": "IBM", "date": "2008-05-01", "price": 125.14}, {"symbol": "IBM", "date": "2008-06-01", "price": 114.6}, {"symbol": "IBM", "date": "2008-07-01", "price": 123.74}, {"symbol": "IBM", "date": "2008-08-01", "price": 118.16}, {"symbol": "IBM", "date": "2008-09-01", "price": 113.53}, {"symbol": "IBM", "date": "2008-10-01", "price": 90.24}, {"symbol": "IBM", "date": "2008-11-01", "price": 79.65}, {"symbol": "IBM", "date": "2008-12-01", "price": 82.15}, {"symbol": "IBM", "date": "2009-01-01", "price": 89.46}, {"symbol": "IBM", "date": "2009-02-01", "price": 90.32}, {"symbol": "IBM", "date": "2009-03-01", "price": 95.09}, {"symbol": "IBM", "date": "2009-04-01", "price": 101.29}, {"symbol": "IBM", "date": "2009-05-01", "price": 104.85}, {"symbol": "IBM", "date": "2009-06-01", "price": 103.01}, {"symbol": "IBM", "date": "2009-07-01", "price": 116.34}, {"symbol": "IBM", "date": "2009-08-01", "price": 117.0}, {"symbol": "IBM", "date": "2009-09-01", "price": 118.55}, {"symbol": "IBM", "date": "2009-10-01", "price": 119.54}, {"symbol": "IBM", "date": "2009-11-01", "price": 125.79}, {"symbol": "IBM", "date": "2009-12-01", "price": 130.32}, {"symbol": "IBM", "date": "2010-01-01", "price": 121.85}, {"symbol": "IBM", "date": "2010-02-01", "price": 127.16}, {"symbol": "IBM", "date": "2010-03-01", "price": 125.55}, {"symbol": "GOOG", "date": "2004-08-01", "price": 102.37}, {"symbol": "GOOG", "date": "2004-09-01", "price": 129.6}, {"symbol": "GOOG", "date": "2004-10-01", "price": 190.64}, {"symbol": "GOOG", "date": "2004-11-01", "price": 181.98}, {"symbol": "GOOG", "date": "2004-12-01", "price": 192.79}, {"symbol": "GOOG", "date": "2005-01-01", "price": 195.62}, {"symbol": "GOOG", "date": "2005-02-01", "price": 187.99}, {"symbol": "GOOG", "date": "2005-03-01", "price": 180.51}, {"symbol": "GOOG", "date": "2005-04-01", "price": 220.0}, {"symbol": "GOOG", "date": "2005-05-01", "price": 277.27}, {"symbol": "GOOG", "date": "2005-06-01", "price": 294.15}, {"symbol": "GOOG", "date": "2005-07-01", "price": 287.76}, {"symbol": "GOOG", "date": "2005-08-01", "price": 286.0}, {"symbol": "GOOG", "date": "2005-09-01", "price": 316.46}, {"symbol": "GOOG", "date": "2005-10-01", "price": 372.14}, {"symbol": "GOOG", "date": "2005-11-01", "price": 404.91}, {"symbol": "GOOG", "date": "2005-12-01", "price": 414.86}, {"symbol": "GOOG", "date": "2006-01-01", "price": 432.66}, {"symbol": "GOOG", "date": "2006-02-01", "price": 362.62}, {"symbol": "GOOG", "date": "2006-03-01", "price": 390.0}, {"symbol": "GOOG", "date": "2006-04-01", "price": 417.94}, {"symbol": "GOOG", "date": "2006-05-01", "price": 371.82}, {"symbol": "GOOG", "date": "2006-06-01", "price": 419.33}, {"symbol": "GOOG", "date": "2006-07-01", "price": 386.6}, {"symbol": "GOOG", "date": "2006-08-01", "price": 378.53}, {"symbol": "GOOG", "date": "2006-09-01", "price": 401.9}, {"symbol": "GOOG", "date": "2006-10-01", "price": 476.39}, {"symbol": "GOOG", "date": "2006-11-01", "price": 484.81}, {"symbol": "GOOG", "date": "2006-12-01", "price": 460.48}, {"symbol": "GOOG", "date": "2007-01-01", "price": 501.5}, {"symbol": "GOOG", "date": "2007-02-01", "price": 449.45}, {"symbol": "GOOG", "date": "2007-03-01", "price": 458.16}, {"symbol": "GOOG", "date": "2007-04-01", "price": 471.38}, {"symbol": "GOOG", "date": "2007-05-01", "price": 497.91}, {"symbol": "GOOG", "date": "2007-06-01", "price": 522.7}, {"symbol": "GOOG", "date": "2007-07-01", "price": 510.0}, {"symbol": "GOOG", "date": "2007-08-01", "price": 515.25}, {"symbol": "GOOG", "date": "2007-09-01", "price": 567.27}, {"symbol": "GOOG", "date": "2007-10-01", "price": 707.0}, {"symbol": "GOOG", "date": "2007-11-01", "price": 693.0}, {"symbol": "GOOG", "date": "2007-12-01", "price": 691.48}, {"symbol": "GOOG", "date": "2008-01-01", "price": 564.3}, {"symbol": "GOOG", "date": "2008-02-01", "price": 471.18}, {"symbol": "GOOG", "date": "2008-03-01", "price": 440.47}, {"symbol": "GOOG", "date": "2008-04-01", "price": 574.29}, {"symbol": "GOOG", "date": "2008-05-01", "price": 585.8}, {"symbol": "GOOG", "date": "2008-06-01", "price": 526.42}, {"symbol": "GOOG", "date": "2008-07-01", "price": 473.75}, {"symbol": "GOOG", "date": "2008-08-01", "price": 463.29}, {"symbol": "GOOG", "date": "2008-09-01", "price": 400.52}, {"symbol": "GOOG", "date": "2008-10-01", "price": 359.36}, {"symbol": "GOOG", "date": "2008-11-01", "price": 292.96}, {"symbol": "GOOG", "date": "2008-12-01", "price": 307.65}, {"symbol": "GOOG", "date": "2009-01-01", "price": 338.53}, {"symbol": "GOOG", "date": "2009-02-01", "price": 337.99}, {"symbol": "GOOG", "date": "2009-03-01", "price": 348.06}, {"symbol": "GOOG", "date": "2009-04-01", "price": 395.97}, {"symbol": "GOOG", "date": "2009-05-01", "price": 417.23}, {"symbol": "GOOG", "date": "2009-06-01", "price": 421.59}, {"symbol": "GOOG", "date": "2009-07-01", "price": 443.05}, {"symbol": "GOOG", "date": "2009-08-01", "price": 461.67}, {"symbol": "GOOG", "date": "2009-09-01", "price": 495.85}, {"symbol": "GOOG", "date": "2009-10-01", "price": 536.12}, {"symbol": "GOOG", "date": "2009-11-01", "price": 583.0}, {"symbol": "GOOG", "date": "2009-12-01", "price": 619.98}, {"symbol": "GOOG", "date": "2010-01-01", "price": 529.94}, {"symbol": "GOOG", "date": "2010-02-01", "price": 526.8}, {"symbol": "GOOG", "date": "2010-03-01", "price": 560.19}, {"symbol": "AAPL", "date": "2000-01-01", "price": 25.94}, {"symbol": "AAPL", "date": "2000-02-01", "price": 28.66}, {"symbol": "AAPL", "date": "2000-03-01", "price": 33.95}, {"symbol": "AAPL", "date": "2000-04-01", "price": 31.01}, {"symbol": "AAPL", "date": "2000-05-01", "price": 21.0}, {"symbol": "AAPL", "date": "2000-06-01", "price": 26.19}, {"symbol": "AAPL", "date": "2000-07-01", "price": 25.41}, {"symbol": "AAPL", "date": "2000-08-01", "price": 30.47}, {"symbol": "AAPL", "date": "2000-09-01", "price": 12.88}, {"symbol": "AAPL", "date": "2000-10-01", "price": 9.78}, {"symbol": "AAPL", "date": "2000-11-01", "price": 8.25}, {"symbol": "AAPL", "date": "2000-12-01", "price": 7.44}, {"symbol": "AAPL", "date": "2001-01-01", "price": 10.81}, {"symbol": "AAPL", "date": "2001-02-01", "price": 9.12}, {"symbol": "AAPL", "date": "2001-03-01", "price": 11.03}, {"symbol": "AAPL", "date": "2001-04-01", "price": 12.74}, {"symbol": "AAPL", "date": "2001-05-01", "price": 9.98}, {"symbol": "AAPL", "date": "2001-06-01", "price": 11.62}, {"symbol": "AAPL", "date": "2001-07-01", "price": 9.4}, {"symbol": "AAPL", "date": "2001-08-01", "price": 9.27}, {"symbol": "AAPL", "date": "2001-09-01", "price": 7.76}, {"symbol": "AAPL", "date": "2001-10-01", "price": 8.78}, {"symbol": "AAPL", "date": "2001-11-01", "price": 10.65}, {"symbol": "AAPL", "date": "2001-12-01", "price": 10.95}, {"symbol": "AAPL", "date": "2002-01-01", "price": 12.36}, {"symbol": "AAPL", "date": "2002-02-01", "price": 10.85}, {"symbol": "AAPL", "date": "2002-03-01", "price": 11.84}, {"symbol": "AAPL", "date": "2002-04-01", "price": 12.14}, {"symbol": "AAPL", "date": "2002-05-01", "price": 11.65}, {"symbol": "AAPL", "date": "2002-06-01", "price": 8.86}, {"symbol": "AAPL", "date": "2002-07-01", "price": 7.63}, {"symbol": "AAPL", "date": "2002-08-01", "price": 7.38}, {"symbol": "AAPL", "date": "2002-09-01", "price": 7.25}, {"symbol": "AAPL", "date": "2002-10-01", "price": 8.03}, {"symbol": "AAPL", "date": "2002-11-01", "price": 7.75}, {"symbol": "AAPL", "date": "2002-12-01", "price": 7.16}, {"symbol": "AAPL", "date": "2003-01-01", "price": 7.18}, {"symbol": "AAPL", "date": "2003-02-01", "price": 7.51}, {"symbol": "AAPL", "date": "2003-03-01", "price": 7.07}, {"symbol": "AAPL", "date": "2003-04-01", "price": 7.11}, {"symbol": "AAPL", "date": "2003-05-01", "price": 8.98}, {"symbol": "AAPL", "date": "2003-06-01", "price": 9.53}, {"symbol": "AAPL", "date": "2003-07-01", "price": 10.54}, {"symbol": "AAPL", "date": "2003-08-01", "price": 11.31}, {"symbol": "AAPL", "date": "2003-09-01", "price": 10.36}, {"symbol": "AAPL", "date": "2003-10-01", "price": 11.44}, {"symbol": "AAPL", "date": "2003-11-01", "price": 10.45}, {"symbol": "AAPL", "date": "2003-12-01", "price": 10.69}, {"symbol": "AAPL", "date": "2004-01-01", "price": 11.28}, {"symbol": "AAPL", "date": "2004-02-01", "price": 11.96}, {"symbol": "AAPL", "date": "2004-03-01", "price": 13.52}, {"symbol": "AAPL", "date": "2004-04-01", "price": 12.89}, {"symbol": "AAPL", "date": "2004-05-01", "price": 14.03}, {"symbol": "AAPL", "date": "2004-06-01", "price": 16.27}, {"symbol": "AAPL", "date": "2004-07-01", "price": 16.17}, {"symbol": "AAPL", "date": "2004-08-01", "price": 17.25}, {"symbol": "AAPL", "date": "2004-09-01", "price": 19.38}, {"symbol": "AAPL", "date": "2004-10-01", "price": 26.2}, {"symbol": "AAPL", "date": "2004-11-01", "price": 33.53}, {"symbol": "AAPL", "date": "2004-12-01", "price": 32.2}, {"symbol": "AAPL", "date": "2005-01-01", "price": 38.45}, {"symbol": "AAPL", "date": "2005-02-01", "price": 44.86}, {"symbol": "AAPL", "date": "2005-03-01", "price": 41.67}, {"symbol": "AAPL", "date": "2005-04-01", "price": 36.06}, {"symbol": "AAPL", "date": "2005-05-01", "price": 39.76}, {"symbol": "AAPL", "date": "2005-06-01", "price": 36.81}, {"symbol": "AAPL", "date": "2005-07-01", "price": 42.65}, {"symbol": "AAPL", "date": "2005-08-01", "price": 46.89}, {"symbol": "AAPL", "date": "2005-09-01", "price": 53.61}, {"symbol": "AAPL", "date": "2005-10-01", "price": 57.59}, {"symbol": "AAPL", "date": "2005-11-01", "price": 67.82}, {"symbol": "AAPL", "date": "2005-12-01", "price": 71.89}, {"symbol": "AAPL", "date": "2006-01-01", "price": 75.51}, {"symbol": "AAPL", "date": "2006-02-01", "price": 68.49}, {"symbol": "AAPL", "date": "2006-03-01", "price": 62.72}, {"symbol": "AAPL", "date": "2006-04-01", "price": 70.39}, {"symbol": "AAPL", "date": "2006-05-01", "price": 59.77}, {"symbol": "AAPL", "date": "2006-06-01", "price": 57.27}, {"symbol": "AAPL", "date": "2006-07-01", "price": 67.96}, {"symbol": "AAPL", "date": "2006-08-01", "price": 67.85}, {"symbol": "AAPL", "date": "2006-09-01", "price": 76.98}, {"symbol": "AAPL", "date": "2006-10-01", "price": 81.08}, {"symbol": "AAPL", "date": "2006-11-01", "price": 91.66}, {"symbol": "AAPL", "date": "2006-12-01", "price": 84.84}, {"symbol": "AAPL", "date": "2007-01-01", "price": 85.73}, {"symbol": "AAPL", "date": "2007-02-01", "price": 84.61}, {"symbol": "AAPL", "date": "2007-03-01", "price": 92.91}, {"symbol": "AAPL", "date": "2007-04-01", "price": 99.8}, {"symbol": "AAPL", "date": "2007-05-01", "price": 121.19}, {"symbol": "AAPL", "date": "2007-06-01", "price": 122.04}, {"symbol": "AAPL", "date": "2007-07-01", "price": 131.76}, {"symbol": "AAPL", "date": "2007-08-01", "price": 138.48}, {"symbol": "AAPL", "date": "2007-09-01", "price": 153.47}, {"symbol": "AAPL", "date": "2007-10-01", "price": 189.95}, {"symbol": "AAPL", "date": "2007-11-01", "price": 182.22}, {"symbol": "AAPL", "date": "2007-12-01", "price": 198.08}, {"symbol": "AAPL", "date": "2008-01-01", "price": 135.36}, {"symbol": "AAPL", "date": "2008-02-01", "price": 125.02}, {"symbol": "AAPL", "date": "2008-03-01", "price": 143.5}, {"symbol": "AAPL", "date": "2008-04-01", "price": 173.95}, {"symbol": "AAPL", "date": "2008-05-01", "price": 188.75}, {"symbol": "AAPL", "date": "2008-06-01", "price": 167.44}, {"symbol": "AAPL", "date": "2008-07-01", "price": 158.95}, {"symbol": "AAPL", "date": "2008-08-01", "price": 169.53}, {"symbol": "AAPL", "date": "2008-09-01", "price": 113.66}, {"symbol": "AAPL", "date": "2008-10-01", "price": 107.59}, {"symbol": "AAPL", "date": "2008-11-01", "price": 92.67}, {"symbol": "AAPL", "date": "2008-12-01", "price": 85.35}, {"symbol": "AAPL", "date": "2009-01-01", "price": 90.13}, {"symbol": "AAPL", "date": "2009-02-01", "price": 89.31}, {"symbol": "AAPL", "date": "2009-03-01", "price": 105.12}, {"symbol": "AAPL", "date": "2009-04-01", "price": 125.83}, {"symbol": "AAPL", "date": "2009-05-01", "price": 135.81}, {"symbol": "AAPL", "date": "2009-06-01", "price": 142.43}, {"symbol": "AAPL", "date": "2009-07-01", "price": 163.39}, {"symbol": "AAPL", "date": "2009-08-01", "price": 168.21}, {"symbol": "AAPL", "date": "2009-09-01", "price": 185.35}, {"symbol": "AAPL", "date": "2009-10-01", "price": 188.5}, {"symbol": "AAPL", "date": "2009-11-01", "price": 199.91}, {"symbol": "AAPL", "date": "2009-12-01", "price": 210.73}, {"symbol": "AAPL", "date": "2010-01-01", "price": 192.06}, {"symbol": "AAPL", "date": "2010-02-01", "price": 204.62}, {"symbol": "AAPL", "date": "2010-03-01", "price": 223.02}]}, "height": 300, "title": "Stock History", "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v2.4.3.json"};
var embed_opt = {"mode": "vega-lite"};

function showError(el, error){
el.innerHTML = ('<div class="error">'
+ '<p>JavaScript Error: ' + error.message + '</p>'
+ "<p>This usually means there's a typo in your chart specification. "
+ "See the javascript console for the full traceback.</p>"
+ '</div>');
throw error;
}
const el = document.getElementById('vis');
vegaEmbed("#vis1", spec, embed_opt)
.catch(error => showError(el, error));
</script>

<h2 id="airports-example">Airports Example</h2>
<p>Here's the first chart, US airports based on this example:</p>
<p>Also, I would love to recreate this <a href="http://vega.github.io/vega-tutorials/airports/">vega example chart</a> that shows flights between cities in the US.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">altair</span> <span class="kn">as</span> <span class="nn">alt</span>
<span class="kn">from</span> <span class="nn">vega_datasets</span> <span class="kn">import</span> <span class="n">data</span>

<span class="n">states</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">topo_feature</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">us_10m</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">feature</span><span class="o">=</span><span class="s1">&#39;states&#39;</span><span class="p">)</span>
<span class="n">airports</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">airports</span><span class="o">.</span><span class="n">url</span>

<span class="c1"># US states background</span>
<span class="n">background</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">states</span><span class="p">)</span><span class="o">.</span><span class="n">mark_geoshape</span><span class="p">(</span>
    <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;lightgray&#39;</span><span class="p">,</span>
    <span class="n">stroke</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
    <span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">500</span>
    <span class="p">)</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="s1">&#39;albersUsa&#39;</span><span class="p">)</span>

<span class="c1"># airport positions on background</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">airports</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">longitude</span><span class="o">=</span><span class="s1">&#39;longitude:Q&#39;</span><span class="p">,</span>
    <span class="n">latitude</span><span class="o">=</span><span class="s1">&#39;latitude:Q&#39;</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;#3377B3&#39;</span><span class="p">),</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;iata:N&#39;</span><span class="p">,</span><span class="s1">&#39;name:N&#39;</span><span class="p">,</span><span class="s1">&#39;city:N&#39;</span><span class="p">,</span><span class="s1">&#39;state:N&#39;</span><span class="p">,</span><span class="s1">&#39;latitude:Q&#39;</span><span class="p">,</span><span class="s1">&#39;longitude:Q&#39;</span><span class="p">],</span>
    <span class="p">)</span>

<span class="n">chart</span> <span class="o">=</span> <span class="p">(</span><span class="n">background</span> <span class="o">+</span> <span class="n">points</span><span class="p">)</span>
<span class="n">chart</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;airports.html&#39;</span><span class="p">)</span>
<span class="n">chart</span>
</pre></div>


<div id="vis2"></div>

<script type="text/javascript">
var spec2 = {"config": {"view": {"width": 400, "height": 300}}, "layer": [{"data": {"url": "https://vega.github.io/vega-datasets/data/us-10m.json", "format": {"feature": "states", "type": "topojson"}}, "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}, "height": 500, "projection": {"type": "albersUsa"}, "width": 800}, {"data": {"url": "https://vega.github.io/vega-datasets/data/airports.csv"}, "mark": "circle", "encoding": {"color": {"value": "#3377B3"}, "latitude": {"type": "quantitative", "field": "latitude"}, "longitude": {"type": "quantitative", "field": "longitude"}, "size": {"value": 15}, "tooltip": [{"type": "nominal", "field": "iata"}, {"type": "nominal", "field": "name"}, {"type": "nominal", "field": "city"}, {"type": "nominal", "field": "state"}, {"type": "quantitative", "field": "latitude"}, {"type": "quantitative", "field": "longitude"}]}}], "$schema": "https://vega.github.io/schema/vega-lite/v2.4.3.json"};
var embed_opt2 = {"mode": "vega-lite"};

function showError(el2, error){
el2.innerHTML = ('<div class="error">'
+ '<p>JavaScript Error: ' + error.message + '</p>'
+ "<p>This usually means there's a typo in your chart specification. "
+ "See the javascript console for the full traceback.</p>"
+ '</div>');
throw error;
}
const el2 = document.getElementById('vis2');
vegaEmbed("#vis2", spec2, embed_opt2)
.catch(error => showError(el2, error));
</script>

<h2 id="birdstrikes-example">Birdstrikes Example</h2>
<div class="highlight"><pre><span></span><span class="c1"># This example borrows heavily from the Seattle Weather Interactive example:</span>
<span class="c1"># https://altair-viz.github.io/gallery/seattle_weather_interactive.html</span>

<span class="kn">import</span> <span class="nn">altair</span> <span class="kn">as</span> <span class="nn">alt</span> 
<span class="kn">from</span> <span class="nn">vega_datasets</span> <span class="kn">import</span> <span class="n">data</span>

<span class="c1"># scale = alt.Scale(domain=[&#39;European starling&#39;, &#39;Rock pigeon&#39;, &#39;Mourning dove&#39;</span>
<span class="c1">#                           , &#39;Canada goose&#39;, &#39;Red-tailed hawk&#39;],</span>
<span class="c1">#                   range=[&#39;#e7ba52&#39;, &#39;#a7a7a7&#39;, &#39;#aec7e8&#39;, &#39;#1f77b4&#39;, &#39;#9467bd&#39;])</span>
<span class="c1"># color = alt.Color(&#39;Wildlife__Species:N&#39;, scale=scale)</span>

<span class="n">color</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;Wildlife__Species:N&#39;</span><span class="p">)</span>

<span class="c1"># We create two selections:</span>
<span class="c1"># - a brush that is active on the top panel</span>
<span class="c1"># - a multi-click that is active on the bottom panel</span>
<span class="n">brush</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_interval</span><span class="p">(</span><span class="n">encodings</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
<span class="n">click</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_multi</span><span class="p">(</span><span class="n">encodings</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">])</span>

<span class="c1"># Top panel is scatter plot of temperature vs time</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">()</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Flight_Date:T&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">)),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;Speed_IAS_in_knots:Q&#39;</span><span class="p">,</span>
        <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Indicated Airspeed (kts)&#39;</span><span class="p">),</span>
    <span class="p">),</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">brush</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;lightgray&#39;</span><span class="p">)),</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">300</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">brush</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span>
    <span class="n">click</span>
<span class="p">)</span>

<span class="c1"># Bottom panel is a bar chart of species</span>
<span class="n">bars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">()</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;count()&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;log&#39;</span><span class="p">)),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Wildlife__Species:N&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">SortField</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s1">&#39;sort_order&#39;</span><span class="p">,</span> <span class="n">op</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;descending&#39;</span><span class="p">)),</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">click</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;lightgray&#39;</span><span class="p">)),</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span>
    <span class="n">brush</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">click</span>
<span class="p">)</span>

<span class="n">alt</span><span class="o">.</span><span class="n">vconcat</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">bars</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">birdstrikes</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Aircraft Birdstrikes: 1990-2003&quot;</span>
<span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;birdstrikes.html&#39;</span><span class="p">)</span>
</pre></div>


<div id="vis3"></div>

<script type="text/javascript">
var spec3 = {"config": {"view": {"width": 400, "height": 300}}, "vconcat": [{"mark": "circle", "encoding": {"color": {"condition": {"type": "nominal", "field": "Wildlife__Species", "selection": "selector094"}, "value": "lightgray"}, "tooltip": [{"type": "nominal", "field": "Airport__Name"}, {"type": "nominal", "field": "Aircraft__Make_Model"}, {"type": "temporal", "field": "Flight_Date"}, {"type": "nominal", "field": "Aircraft__Airline_Operator"}, {"type": "nominal", "field": "Origin_State"}, {"type": "nominal", "field": "When__Phase_of_flight"}, {"type": "nominal", "field": "Wildlife__Species"}, {"type": "nominal", "field": "Wildlife__Size"}, {"type": "nominal", "field": "Speed_IAS_in_knots"}], "x": {"type": "temporal", "axis": {"title": "Date"}, "field": "Flight_Date"}, "y": {"type": "quantitative", "axis": {"title": "Indicated Airspeed (kts)"}, "field": "Speed_IAS_in_knots"}}, "height": 300, "selection": {"selector094": {"type": "interval", "encodings": ["x"]}}, "transform": [{"filter": {"selection": "selector095"}}], "width": 600}, {"mark": "bar", "encoding": {"color": {"condition": {"type": "nominal", "field": "Wildlife__Species", "selection": "selector095"}, "value": "lightgray"}, "x": {"type": "nominal", "field": "Wildlife__Species", "sort": {"op": "count", "field": "sort_order", "order": "descending"}}, "y": {"type": "quantitative", "aggregate": "count", "scale": {"type": "log"}}}, "selection": {"selector095": {"type": "multi", "encodings": ["color"]}}, "transform": [{"filter": {"selection": "selector094"}}], "width": 600}], "data": {"url": "https://vega.github.io/vega-datasets/data/birdstrikes.json"}, "title": "Aircraft Birdstrikes: 1990-2003", "$schema": "https://vega.github.io/schema/vega-lite/v2.4.3.json"};
var embed_opt3 = {"mode": "vega-lite"};

function showError(el3, error){
el3.innerHTML = ('<div class="error">'
+ '<p>JavaScript Error: ' + error.message + '</p>'
+ "<p>This usually means there's a typo in your chart specification. "
+ "See the javascript console for the full traceback.</p>"
+ '</div>');
throw error;
}
const el3 = document.getElementById('vis3');
vegaEmbed("#vis3", spec3, embed_opt3)
.catch(error => showError(el3, error));
</script>

<h2 id="another-example">Another Example</h2>
<p>Another example could go here</p>
<h1 id="sharing-interactive-altair-charts">Sharing Interactive Altair Charts</h1>
<!-- {% notebook downloads/notebooks/altair-interactive/Altair-interactive.ipynb cells[:] %} -->

<p>Tried notebook, but does not render interctive plots..., so do manually</p>
<h2 id="pelican-template">Pelican Template</h2>
<p>Add to <code>&lt;article-name&gt;.md</code>:</p>
<p><code>include: vega</code></p>
<p>Add to <code>theme/templates/article.html</code>. This loads the vega javascript libraries and style if required. </p>
<div class="highlight"><pre><span></span>{% if &#39;vega&#39; in article.include %}
<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">.</span><span class="nc">vega-actions</span> <span class="nt">a</span> <span class="p">{</span>
    <span class="k">margin-right</span><span class="p">:</span> <span class="mi">12</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#757575</span><span class="p">;</span>
    <span class="k">font-weight</span><span class="p">:</span> <span class="kc">normal</span><span class="p">;</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">13</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">error</span> <span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="kc">red</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega@3.3.1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega-lite@2.4.3&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm//vega-embed@3.11&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
{% endif %}
</pre></div>


<h2 id="single-plot-in-md">Single Plot in MD</h2>
<p>To add a single plot, we open the <code>&lt;chart-name&gt;.html</code> file and copy this portion (note that you need to remove indentation): </p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;vis1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>
<span class="kd">var</span> <span class="nx">spec</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;config&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;view&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;width&quot;</span><span class="o">:</span> <span class="mi">400</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="o">:</span> <span class="mi">300</span><span class="p">}},</span> <span class="s2">&quot;layer&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;url&quot;</span><span class="o">:</span> <span class="s2">&quot;https://vega.github.io/vega-datasets/data/us-10m.json&quot;</span><span class="p">,</span> <span class="s2">&quot;format&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;feature&quot;</span><span class="o">:</span> <span class="s2">&quot;states&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;topojson&quot;</span><span class="p">}},</span> <span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;geoshape&quot;</span><span class="p">,</span> <span class="s2">&quot;fill&quot;</span><span class="o">:</span> <span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="s2">&quot;stroke&quot;</span><span class="o">:</span> <span class="s2">&quot;white&quot;</span><span class="p">},</span> <span class="s2">&quot;height&quot;</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span> <span class="s2">&quot;projection&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;albersUsa&quot;</span><span class="p">},</span> <span class="s2">&quot;width&quot;</span><span class="o">:</span> <span class="mi">800</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;url&quot;</span><span class="o">:</span> <span class="s2">&quot;https://vega.github.io/vega-datasets/data/airports.csv&quot;</span><span class="p">},</span> <span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;#3377B3&quot;</span><span class="p">},</span> <span class="s2">&quot;latitude&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;latitude&quot;</span><span class="p">},</span> <span class="s2">&quot;longitude&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;longitude&quot;</span><span class="p">},</span> <span class="s2">&quot;size&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="mi">15</span><span class="p">},</span> <span class="s2">&quot;tooltip&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;iata&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;name&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;city&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;state&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;latitude&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;longitude&quot;</span><span class="p">}]}}],</span> <span class="s2">&quot;$schema&quot;</span><span class="o">:</span> <span class="s2">&quot;https://vega.github.io/schema/vega-lite/v2.4.3.json&quot;</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">embed_opt</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;mode&quot;</span><span class="o">:</span> <span class="s2">&quot;vega-lite&quot;</span><span class="p">};</span>

<span class="kd">function</span> <span class="nx">showError</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">error</span><span class="p">){</span>
<span class="nx">el</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;error&quot;&gt;&#39;</span>
<span class="o">+</span> <span class="s1">&#39;&lt;p&gt;JavaScript Error: &#39;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">+</span> <span class="s1">&#39;&lt;/p&gt;&#39;</span>
<span class="o">+</span> <span class="s2">&quot;&lt;p&gt;This usually means there&#39;s a typo in your chart specification. &quot;</span>
<span class="o">+</span> <span class="s2">&quot;See the javascript console for the full traceback.&lt;/p&gt;&quot;</span>
<span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">);</span>
<span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">el</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;vis1&#39;</span><span class="p">);</span>
<span class="nx">vegaEmbed</span><span class="p">(</span><span class="s2">&quot;#vis1&quot;</span><span class="p">,</span> <span class="nx">spec</span><span class="p">,</span> <span class="nx">embed_opt</span><span class="p">)</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="p">=&gt;</span> <span class="nx">showError</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>


<h2 id="multiple-plots-in-md">Multiple Plots in MD</h2>
<p>When adding subsequent plots to the same page, we need to increment certain variables to enable the additional plot to render:</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;vis2&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>
<span class="kd">var</span> <span class="nx">spec2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;config&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;view&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;width&quot;</span><span class="o">:</span> <span class="mi">400</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="o">:</span> <span class="mi">300</span><span class="p">}},</span> <span class="s2">&quot;vconcat&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;condition&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Wildlife__Species&quot;</span><span class="p">,</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector094&quot;</span><span class="p">},</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;lightgray&quot;</span><span class="p">},</span> <span class="s2">&quot;tooltip&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Airport__Name&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Aircraft__Make_Model&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;temporal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Flight_Date&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Aircraft__Airline_Operator&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Origin_State&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;When__Phase_of_flight&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Wildlife__Species&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Wildlife__Size&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Speed_IAS_in_knots&quot;</span><span class="p">}],</span> <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;temporal&quot;</span><span class="p">,</span> <span class="s2">&quot;axis&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Date&quot;</span><span class="p">},</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Flight_Date&quot;</span><span class="p">},</span> <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;axis&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Indicated Airspeed (kts)&quot;</span><span class="p">},</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Speed_IAS_in_knots&quot;</span><span class="p">}},</span> <span class="s2">&quot;height&quot;</span><span class="o">:</span> <span class="mi">300</span><span class="p">,</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;selector094&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;interval&quot;</span><span class="p">,</span> <span class="s2">&quot;encodings&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]}},</span> <span class="s2">&quot;transform&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;filter&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector095&quot;</span><span class="p">}}],</span> <span class="s2">&quot;width&quot;</span><span class="o">:</span> <span class="mi">600</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;mark&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;encoding&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;condition&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Wildlife__Species&quot;</span><span class="p">,</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector095&quot;</span><span class="p">},</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;lightgray&quot;</span><span class="p">},</span> <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;nominal&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;Wildlife__Species&quot;</span><span class="p">,</span> <span class="s2">&quot;sort&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;sort_order&quot;</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="o">:</span> <span class="s2">&quot;descending&quot;</span><span class="p">}},</span> <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;quantitative&quot;</span><span class="p">,</span> <span class="s2">&quot;aggregate&quot;</span><span class="o">:</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;log&quot;</span><span class="p">}}},</span> <span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;selector095&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;multi&quot;</span><span class="p">,</span> <span class="s2">&quot;encodings&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]}},</span> <span class="s2">&quot;transform&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;filter&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;selection&quot;</span><span class="o">:</span> <span class="s2">&quot;selector094&quot;</span><span class="p">}}],</span> <span class="s2">&quot;width&quot;</span><span class="o">:</span> <span class="mi">600</span><span class="p">}],</span> <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;url&quot;</span><span class="o">:</span> <span class="s2">&quot;https://vega.github.io/vega-datasets/data/birdstrikes.json&quot;</span><span class="p">},</span> <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Aircraft Birdstrikes: 1990-2003&quot;</span><span class="p">,</span> <span class="s2">&quot;$schema&quot;</span><span class="o">:</span> <span class="s2">&quot;https://vega.github.io/schema/vega-lite/v2.4.3.json&quot;</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">embed_opt2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;mode&quot;</span><span class="o">:</span> <span class="s2">&quot;vega-lite&quot;</span><span class="p">};</span>

<span class="kd">function</span> <span class="nx">showError</span><span class="p">(</span><span class="nx">el2</span><span class="p">,</span> <span class="nx">error</span><span class="p">){</span>
<span class="nx">el2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;error&quot;&gt;&#39;</span>
<span class="o">+</span> <span class="s1">&#39;&lt;p&gt;JavaScript Error: &#39;</span> <span class="o">+</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">+</span> <span class="s1">&#39;&lt;/p&gt;&#39;</span>
<span class="o">+</span> <span class="s2">&quot;&lt;p&gt;This usually means there&#39;s a typo in your chart specification. &quot;</span>
<span class="o">+</span> <span class="s2">&quot;See the javascript console for the full traceback.&lt;/p&gt;&quot;</span>
<span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">);</span>
<span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">el2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;vis2&#39;</span><span class="p">);</span>
<span class="nx">vegaEmbed</span><span class="p">(</span><span class="s2">&quot;#vis2&quot;</span><span class="p">,</span> <span class="nx">spec2</span><span class="p">,</span> <span class="nx">embed_opt2</span><span class="p">)</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="p">=&gt;</span> <span class="nx">showError</span><span class="p">(</span><span class="nx">el2</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>


<h1 id="closing-thoughts">Closing Thoughts</h1>
<p>....</p>
<hr>
<ul>
<li><em>You can view the original <a href="https://github.com/mkudija/General-Examples/blob/master/Altair/Altair-interactive.ipynb">Jupyter Notebook</a> that was used to generate these examples.</em></li>
</ul>
        </div>

        <div class="meta">
            <div>
                <a href="../tag/python.html" class="tag">python</a>
                <a href="../tag/altair.html" class="tag">altair</a>
                <a href="../tag/vega.html" class="tag">vega</a>
            </div>
        </div>
    </article>

    <div class="container">
        <!-- Begin MailChimp Signup Form -->

        <div id="mc_embed_signup">
            <form action="https://matthewkudija.us12.list-manage.com/subscribe/post?u=55dc59a5176654a0fed6d8145&amp;id=74322d0c56" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                <div id="mc_embed_signup_scroll">

                    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
                    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_55dc59a5176654a0fed6d8145_74322d0c56" tabindex="-1" value=""></div>
                    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
                </div>
            </form>
        </div>
        
        <!--End mc_embed_signup-->
    </div>


</div>

<style type="text/css">
{
    max-width: 700px;
}

.text_cell .prompt {
    display: none;
}

div.cell {
    padding: 0;
}

div.text_cell_render {
    padding: 0;
}

div.prompt {
    font-size: 13px;
}

div.input_prompt {
    padding: .7em 0.2em;
}

div.output_prompt {
    padding: .4em .2em;
}

div.input_area {
    margin: .2em 0.4em;
    max-width: 580px;
    background-color: #272822;
}

table.dataframe {
    font-family: Courier, sans-serif;
    font-size: 13px;
    line-height: 20px;
}

table.dataframe th, td {
    padding: 4px;
    text-align: left;
}

pre code {
    background-color: inherit;
}</style>

</div>

<section id="footer">
    <div class="container">
        <p>
            &copy; 2005<script>new Date().getFullYear()>2005&&document.write("-"+new Date().getFullYear());</script> <a href=http://matthewkudija.com target="_blank">Matthew Kudija</a>
        </p>
        <p>
            <a href="https://github.com/mkudija/blog" target="_blank">Source</a> | Built with <a href= "http://docs.getpelican.com/">Pelican</a> and <a href= "https://pages.github.com/">GitHub Pages</a>.
        </p>   
    </div>
</section>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-72240498-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-72240498-1');
    ga('send', 'pageview');
</script>
</body>
</html>